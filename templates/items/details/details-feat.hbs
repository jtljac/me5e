<fieldset>
    <legend>{{ localize "ME5E.ItemFeatureDetails" }}</legend>

    {{!-- Feature Type --}}
    {{ formField fields.type.fields.value value=source.type.value choices=CONFIG.featureTypes labelAttr="label" blank=""
                 localize=true rootId=partId }}

    {{!-- Feature Sub-Type --}}
    {{#if itemSubtypes}}
    {{ formField fields.type.fields.subtype value=source.type.subtype choices=itemSubtypes blank="" localize=true
                 label=(localize "ME5E.ItemFeatureSubtype" category=(lookup (lookup CONFIG.featureTypes source.type.value) "label")) rootId=partId }}
    {{/if}}

    {{#if (eq system.type.value "vehicle")}}
    {{ formField fields.cover value=source.cover options=coverOptions rootId=partId }}
    {{/if}}

    {{!-- Feature Prerequisites --}}
    {{ formField fields.prerequisites.fields.level value=source.prerequisites.level rootId=partId }}
    {{ formField fields.prerequisites.fields.items value=source.prerequisites.items rootId=partId }}
    {{ formField fields.prerequisites.fields.repeatable value=source.prerequisites.repeatable
                 input=inputs.createCheckboxInput rootId=partId }}

    {{!-- Feature Properties --}}
    {{ formField fields.properties options=properties.options label="ME5E.ItemFeatureProperties" localize=true
                 input=inputs.createMultiCheckboxInput stacked=true classes="checkbox-grid checkbox-grid-3" }}
</fieldset>

{{#if system.isEnchantmentSource}}
<fieldset>
    <legend>{{ localize "ME5E.ENCHANTMENT.Label" }}</legend>

    {{!-- Max Enchantments --}}
    {{ formField fields.enchant.fields.max value=source.enchant.max localize=true
                 label="ME5E.ENCHANTMENT.FIELDS.enchantment.items.max.label"
                 hint="ME5E.ENCHANTMENT.FIELDS.enchantment.items.max.hint" rootId=partId }}

    {{!-- Enchantment Replacement --}}
    {{ formField fields.enchant.fields.period value=source.enchant.period localize=true
                 choices=CONFIG.enchantmentPeriods labelAttr="label" blank="ME5E.ENCHANTMENT.Period.Never"
                 label="ME5E.ENCHANTMENT.FIELDS.enchantment.items.period.label"
                 hint="ME5E.ENCHANTMENT.FIELDS.enchantment.items.period.hint" rootId=partId }}
</fieldset>
{{/if}}
